<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Diurnal – Time-based Lighting Website</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />

<style>
  :root{
    /* 색 / 조명 강도 변수 */
    --bg-r: 15;
    --bg-g: 14;
    --bg-b: 13;
    --text-color: #f8f7f2;
    --panel-bg: rgba(255,255,255,0.04);
    --lamp-intensity: 0.5; /* 0~1 */
  }

  *{ box-sizing:border-box; }

  body{
    margin:0;
    min-height:100vh;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
                 Segoe UI, Roboto, sans-serif;
    background: rgb(var(--bg-r), var(--bg-g), var(--bg-b));
    color: var(--text-color);
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:32px 16px 24px;
    gap:24px;
    transition: background 0.7s ease, color 0.7s ease;
  }

  .hero{
    max-width: 960px;
    text-align:center;
  }
  .hero-title{
    font-size:clamp(28px, 4vw, 36px);
    font-weight:700;
    margin:0 0 8px;
  }
  .hero-copy{
    margin:0;
    font-size:14px;
    opacity:0.8;
  }

  .flow-note{
    max-width:960px;
    width:100%;
    border-radius:12px;
    padding:10px 14px;
    font-size:12px;
    opacity:0.75;
    border:1px solid rgba(255,255,255,0.12);
  }

  .layout{
    max-width:1200px;
    width:100%;
    display:flex;
    justify-content:center;
  }

  .panel{
    width:100%;
    max-width:1080px;
    border-radius:18px;
    padding:28px 32px;
    display:grid;
    grid-template-columns:minmax(180px, 230px) minmax(0,1fr);
    gap:28px;
    background: var(--panel-bg);
    box-shadow:
      0 18px 45px rgba(0,0,0,0.35),
      0 0 0 1px rgba(255,255,255,0.04);
    backdrop-filter: blur(12px);
  }

  /* 왼쪽 텍스트 컬럼 */
  .info-col{
    display:flex;
    flex-direction:column;
    justify-content:space-between;
  }
  .wordmark{
    font-size:32px;
    font-weight:800;
    letter-spacing:0.06em;
    text-transform:uppercase;
    margin-bottom:24px;
  }
  .nav-list{
    list-style:none;
    padding:0;
    margin:0;
    font-size:14px;
    text-transform:lowercase;
    letter-spacing:0.1em;
  }
  .nav-list li+li{ margin-top:6px; }

  .greeting{
    font-size:13px;
    margin-top:24px;
    line-height:1.4;
  }
  .greeting strong{
    display:block;
    margin-bottom:2px;
  }
  .state-chip{
    display:inline-flex;
    align-items:center;
    gap:6px;
    font-size:11px;
    padding:3px 8px;
    border-radius:999px;
    background:rgba(0,0,0,0.45);
    border:1px solid rgba(255,255,255,0.12);
    margin-top:8px;
  }
  .state-dot{
    width:7px;height:7px;border-radius:50%;
    background:linear-gradient(135deg,#ffd766,#ff9d4b);
  }

  /* 오른쪽 램프 그리드 */
  .grid-wrap{
    border-radius:14px;
    overflow:hidden;
    background:#111;
    position:relative;
  }
  .lamp-grid{
    display:grid;
    grid-template-columns:repeat(8,1fr);
    aspect-ratio: 8 / 5;
  }
  .lamp-cell{
    position:relative;
    overflow:hidden;
    border:1px solid rgba(255,255,255,0.03);
    background:
      radial-gradient(circle at 50% 30%,
        rgba(255,255,255,0.18) 0%,
        rgba(255,255,255,0.01) 55%),
      #b8b0a2;
    /* 실제로는 여기 background-image: url(...) 넣어쓰면 됨 */
    filter: brightness(calc(0.4 + var(--lamp-intensity)*0.9));
    transition: filter 0.6s ease;
  }
  .lamp-cell::after{
    /* 아래쪽 살짝 그림자 */
    content:"";
    position:absolute;
    inset:auto 0 0 0;
    height:30%;
    background:linear-gradient(to bottom,
      rgba(0,0,0,0) 0%,
      rgba(0,0,0,0.24) 100%);
    opacity: clamp(0, var(--lamp-intensity), 1);
    pointer-events:none;
  }

  /* 컨트롤 영역 */
  .controls{
    max-width:1080px;
    width:100%;
    display:flex;
    flex-wrap:wrap;
    align-items:center;
    justify-content:space-between;
    gap:10px;
    font-size:12px;
    margin-top:4px;
    color:rgba(255,255,255,0.8);
  }
  .controls-left{
    display:flex;
    align-items:center;
    gap:10px;
    flex-wrap:wrap;
  }
  .controls label{
    font-weight:500;
  }
  .controls input[type="range"]{
    width:220px;
  }
  .controls button{
    background:transparent;
    border-radius:999px;
    padding:4px 10px;
    border:1px solid rgba(255,255,255,0.3);
    color:inherit;
    cursor:pointer;
    font-size:11px;
  }
  .controls button:hover{
    background:rgba(255,255,255,0.08);
  }
  .mode-indicator{
    font-style:italic;
    opacity:0.7;
  }

  @media (max-width:800px){
    .panel{
      grid-template-columns:1fr;
    }
    .info-col{
      order:2;
    }
  }
</style>
</head>
<body>
  <header class="hero">
    <h1 class="hero-title">A time-based lighting website that transforms in brightness and tone throughout the day.</h1>
    <p class="hero-copy">
      “Diurnal” quietly follows the rhythm of a day, letting the lights fade in and out with time.
    </p>
  </header>

  <div class="layout">
    <section class="panel" aria-label="Diurnal lighting showroom">
      <aside class="info-col">
        <div>
          <div class="wordmark">Diurnal</div>
          <ul class="nav-list">
            <li>shop</li>
            <li>collection</li>
            <li>showroom</li>
          </ul>
        </div>
        <div class="greeting">
          <strong id="greetingLabel">Good evening</strong>
          <span id="timeLabel">18:00</span><br/>
          <span id="stateLabel">Lights On · 100% brightness</span>
          <div class="state-chip">
            <span class="state-dot"></span>
            <span id="stateName">Evening 6PM–11PM</span>
          </div>
        </div>
      </aside>

      <div class="grid-wrap">
        <div class="lamp-grid" id="lampGrid">
          <!-- 8 x 5 = 40 cells (그리드) -->
          <!-- 실제에선 각 셀에 background-image 설정해서 조명 사진 넣으면 됨 -->
          <div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div>
          <div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div>
          <div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div>
          <div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div>
          <div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div><div class="lamp-cell"></div>
        </div>
      </div>
    </section>
  </div>

  <div class="controls">
    <div class="controls-left">
      <label for="timeSlider">Preview time</label>
      <input type="range" id="timeSlider" min="0" max="1439" value="0" />
      <button id="nowBtn" type="button">Use current time</button>
      <span class="mode-indicator" id="modeIndicator">Live mode</span>
    </div>
    <div>
      <span id="rawDayness">Dayness: –</span>
      &nbsp;·&nbsp;
      <span id="rawLamp">Lamp glow: –</span>
    </div>
  </div>

<script>
(function(){
  const greetingLabel = document.getElementById('greetingLabel');
  const timeLabel = document.getElementById('timeLabel');
  const stateLabel = document.getElementById('stateLabel');
  const stateName = document.getElementById('stateName');
  const slider = document.getElementById('timeSlider');
  const nowBtn = document.getElementById('nowBtn');
  const modeIndicator = document.getElementById('modeIndicator');
  const rawDayness = document.getElementById('rawDayness');
  const rawLamp = document.getElementById('rawLamp');

  let liveMode = true;

  function lerp(a,b,t){ return a + (b-a)*t; }

  // 시간(분) → dayness(0..1) : 낮 12시 기준 밝음, 새벽/밤 어두움
  function getDayness(minutes){
    const t = minutes / 1440 * 2 * Math.PI;
    const shifted = t - Math.PI/2;       // 12:00에서 최대가 되도록 시프트
    const cosVal = Math.cos(shifted);    // -1..1
    return (cosVal + 1) / 2;             // 0..1
  }

  function getStateFromHour(h){
    if (h >= 6 && h < 12) return "mid";         // 6–11
    if (h >= 12 && h < 18) return "off";        // 12–17
    if (h >= 18 && h < 24) return "on";         // 18–23
    return "after";                             // 0–5
  }

  function updateByMinutes(totalMinutes, fromSlider){
    const hours = Math.floor(totalMinutes/60);
    const mins = totalMinutes % 60;

    const dayness = getDayness(totalMinutes);   // 0..1
    const lampGlow = 1 - dayness;               // 0..1

    // 배경색: 밤(거의 검정) ~ 낮(아이보리) 사이 보간
    const nightBg = { r: 8, g: 8, b: 9 };
    const dayBg   = { r: 244, g: 243, b: 239 };

    const r = Math.round(lerp(nightBg.r, dayBg.r, dayness));
    const g = Math.round(lerp(nightBg.g, dayBg.g, dayness));
    const b = Math.round(lerp(nightBg.b, dayBg.b, dayness));

    document.documentElement.style.setProperty('--bg-r', r);
    document.documentElement.style.setProperty('--bg-g', g);
    document.documentElement.style.setProperty('--bg-b', b);

    // 텍스트 컬러: 어두울수록 밝게
    const textColor = dayness > 0.55 ? '#222222' : '#f8f7f2';
    document.documentElement.style.setProperty('--text-color', textColor);

    // 패널 배경 투명도 약간 조정
    const panelAlpha = lerp(0.04, 0.16, 1 - dayness);
    document.documentElement.style.setProperty(
      '--panel-bg',
      `rgba(0,0,0,${panelAlpha.toFixed(2)})`
    );

    // 램프 그리드 밝기
    const lampIntensity = lampGlow; // 밤일수록 1에 가까움
    document.documentElement.style.setProperty(
      '--lamp-intensity',
      lampIntensity.toFixed(3)
    );

    // UI 텍스트들
    const hh = String(hours).padStart(2,'0');
    const mm = String(mins).padStart(2,'0');
    timeLabel.textContent = `${hh}:${mm}`;

    // 인사말 & 상태
    const state = getStateFromHour(hours);
    let greeting, stateText, stateDesc;
    switch(state){
      case "mid":
        greeting = "Good morning";
        stateText = "Mid Bright · 50% brightness";
        stateDesc = "Mid Bright 6AM–11AM";
        break;
      case "off":
        greeting = "Have a nice day";
        stateText = "Lights Off · 0% brightness";
        stateDesc = "Lights Off 12PM–5PM";
        break;
      case "on":
        greeting = "Good evening";
        stateText = "Lights On · 100% brightness";
        stateDesc = "Evening 6PM–11PM";
        break;
      default:
        greeting = "Good night";
        stateText = "Afterglow · 20% brightness";
        stateDesc = "Afterglow 12AM–5AM";
        break;
    }
    greetingLabel.textContent = greeting;
    stateLabel.textContent = stateText;
    stateName.textContent = stateDesc;

    rawDayness.textContent = `Dayness: ${dayness.toFixed(2)}`;
    rawLamp.textContent = `Lamp glow: ${lampGlow.toFixed(2)}`;

    if (!fromSlider){
      slider.value = totalMinutes;
    }
  }

  function setNow(){
    const d = new Date();
    const mins = d.getHours()*60 + d.getMinutes();
    liveMode = true;
    modeIndicator.textContent = 'Live mode';
    updateByMinutes(mins,false);
  }

  // 초기값: 현재 시간 기준
  setNow();

  // 실시간 모드일 때 주기적으로 업데이트 (30초마다)
  setInterval(function(){
    if (liveMode){
      setNow();
    }
  }, 30000);

  slider.addEventListener('input', function(e){
    const m = parseInt(e.target.value,10);
    liveMode = false;
    modeIndicator.textContent = 'Preview mode (slider)';
    updateByMinutes(m,true);
  });

  nowBtn.addEventListener('click', function(){
    setNow();
  });

})();
</script>
</body>
</html>
