<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Journey Through Scent — Split-Screen Sequential</title>
  <style>
    /* --- Visual language inspired by 90s net-art split screens --- */
    :root{--bg:#0a0a0a;--ink:#f5f5f5;--dim:#bdbdbd;--line:#2b2b2b;--accent:#f5f5f5}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--ink);font-family: ui-monospace, Menlo, Monaco, "SFMono-Regular", Consolas, "Liberation Mono", monospace}
    a{color:var(--ink);text-decoration:none}
    a:hover{color:#9ae6b4}
    .viewport{display:grid;grid-template-columns:1fr 1fr;gap:1px;min-height:100vh}
    .panel{border-left:1px solid var(--line);border-right:1px solid var(--line);padding:1rem;display:flex;flex-direction:column}
    .panel header{border-bottom:1px solid var(--line);padding-bottom:.5rem;margin-bottom:.75rem;display:flex;justify-content:space-between;align-items:center}
    .stamp{font-size:.7rem;color:var(--dim);letter-spacing:.08em}
    .frag{border:1px solid var(--line);padding:.75rem;border-radius:6px;margin:.5rem 0;position:relative;overflow:hidden}
    .frag::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,transparent,rgba(255,255,255,.02) 50%,transparent);mix-blend-mode:overlay;pointer-events:none}
    .frag:hover{box-shadow:0 0 0 1px var(--accent) inset}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}
    .min{font-size:.9rem;line-height:1.4}
    .muted{color:var(--dim)}
    .scan{position:relative}
    .scan::before{content:"";position:absolute;left:0;right:0;top:-100%;height:40%;background:linear-gradient(180deg,rgba(255,255,255,.06),transparent);animation:scan 6s linear infinite}
    @keyframes scan{to{top:130%}}
    .ticker{white-space:nowrap;overflow:hidden;border-top:1px solid var(--line);border-bottom:1px solid var(--line);padding:.25rem 0;margin:.5rem 0;color:var(--dim)}
    .ticker span{display:inline-block;padding-left:100%;animation:ticker 18s linear infinite}
    @keyframes ticker{to{transform:translateX(-100%)}}
    .title{font-size:clamp(1rem,2.2vw,1.3rem);}
    .btn{display:inline-block;border:1px solid var(--line);padding:.5rem .75rem;border-radius:6px}

    /* Sections behave like scenes; only active are fully opaque, others dim but remain visible for collage feel */
    section.scene{opacity:.25;transition:opacity .4s ease}
    section.scene.active{opacity:1}

    /* Right column result compositor */
    .stack{display:flex;flex-direction:column;gap:.5rem}
    .card{border:1px solid var(--line);border-radius:8px;padding:.75rem}
    .grid2{display:grid;grid-template-columns:1fr 1fr;gap:.5rem}

    @media (max-width:900px){
      .viewport{grid-template-columns:1fr}
      .panel{min-height:50vh}
    }
  </style>
</head>
<body>
  <div class="viewport">
    <!-- LEFT: Scenes / Questions (collaged) -->
    <div class="panel scan" id="left">
      <header>
        <div class="title">Journey Through Scent</div>
        <div class="stamp">sequential · hyperlinks · v3</div>
      </header>

      <div class="ticker"><span>Follow the links. No buttons. Move through six scenes. Your scent portrait will assemble on the right →</span></div>

      <!-- START / scene 0 -->
      <section class="scene active" id="s0">
        <div class="frag min">
          <p>Translate your personality into fragrance. Start the walk:</p>
          <a class="btn" data-next="q1">Start</a>
        </div>
      </section>

      <!-- Q1 -->
      <section class="scene" id="q1">
        <div class="frag min">
          <div class="muted">Purpose: intensity & projection</div>
          <div class="row">
            <a class="frag" data-next="q2" data-param="i=light">Soft and gentle</a>
            <a class="frag" data-next="q2" data-param="i=balanced">Organized and steady</a>
            <a class="frag" data-next="q2" data-param="i=deep">Focused at night</a>
            <a class="frag" data-next="q2" data-param="i=energetic">Spontaneous and lively</a>
          </div>
        </div>
      </section>

      <!-- Q2 -->
      <section class="scene" id="q2">
        <div class="frag min">
          <div class="muted">Purpose: tone & atmosphere</div>
          <div class="row">
            <a class="frag" data-next="q3" data-param="air=dawn">Cool morning air</a>
            <a class="frag" data-next="q3" data-param="air=noon">Heavy afternoon light</a>
            <a class="frag" data-next="q3" data-param="air=rain">Air after rain</a>
            <a class="frag" data-next="q3" data-param="air=night">Calm midnight air</a>
          </div>
        </div>
      </section>

      <!-- Q3 -->
      <section class="scene" id="q3">
        <div class="frag min">
          <div class="muted">Purpose: mood & presence</div>
          <div class="row">
            <a class="frag" data-next="q4" data-param="mood=clean">Clean & transparent</a>
            <a class="frag" data-next="q4" data-param="mood=warm">Warm & gentle</a>
            <a class="frag" data-next="q4" data-param="mood=myst">Mysterious & deep</a>
            <a class="frag" data-next="q4" data-param="mood=sensual">Bold & sensual</a>
          </div>
        </div>
      </section>

      <!-- Q4 -->
      <section class="scene" id="q4">
        <div class="frag min">
          <div class="muted">Purpose: brand/style association</div>
          <div class="row">
            <a class="frag" data-next="q5" data-param="city=paris">Paris</a>
            <a class="frag" data-next="q5" data-param="city=ny">New York</a>
            <a class="frag" data-next="q5" data-param="city=tokyo">Tokyo</a>
            <a class="frag" data-next="q5" data-param="city=maldives">Maldives</a>
          </div>
        </div>
      </section>

      <!-- Q5 -->
      <section class="scene" id="q5">
        <div class="frag min">
          <div class="muted">Purpose: texture & longevity</div>
          <div class="row">
            <a class="frag" data-next="q6" data-param="mat=glass">Transparent glass</a>
            <a class="frag" data-next="q6" data-param="mat=metal">Metal</a>
            <a class="frag" data-next="q6" data-param="mat=velvet">Velvet</a>
            <a class="frag" data-next="q6" data-param="mat=stone">Stone</a>
          </div>
        </div>
      </section>

      <!-- Q6 -->
      <section class="scene" id="q6">
        <div class="frag min">
          <div class="muted">Purpose: identity of the afterglow</div>
          <div class="row">
            <a class="frag" data-next="result" data-param="echo=memory">Memory</a>
            <a class="frag" data-next="result" data-param="echo=trail">Trail</a>
            <a class="frag" data-next="result" data-param="echo=person">Someone</a>
            <a class="frag" data-next="result" data-param="echo=air">Air</a>
          </div>
        </div>
      </section>

      <footer class="muted" style="margin-top:1rem">[ <a href="#" id="restart">restart</a> ]</footer>
    </div>

    <!-- RIGHT: Assembling Result / Collage text -->
    <div class="panel" id="right">
      <header>
        <div class="title">Your Scent Portrait</div>
        <div class="stamp" id="stamp">––––</div>
      </header>

      <div id="portrait" class="stack">
        <div class="card" id="summary">Walk the left panel. Your choices will compose here.</div>
        <div class="card" id="family"></div>
        <div class="grid2" id="picks"></div>
        <div class="card muted" id="tip" style="display:none">Tip: Spray on your wrist and check again after 2–4 hours. Citrus/green fade faster; woods/musk last longer.</div>
      </div>
    </div>
  </div>

  <script>
    // Minimal JS to keep hypertext spirit: links act as href updates, scenes stay visible for collage feel
    const $$ = (s, c=document) => Array.from(c.querySelectorAll(s));
    const $ = (s, c=document) => c.querySelector(s);

    const RESULTS = {
      fresh_citrus_day: {
        title: "Fresh Citrus / Day",
        picks: [
          { name: "Acqua di Parma Colonia", notes: "citrus, lavender, rosemary", vibe: "classic, bright, tailored", why: "For those who love airy brightness with a clean finish.", link: "https://www.acquadiparma.com/" },
          { name: "Byredo Blanche", notes: "aldehydes, rose, musk", vibe: "clean, linen-fresh, minimal", why: "Soft, soapy clarity for everyday wear.", link: "https://www.byredo.com/" }
        ]
      },
      airy_green_woods: {
        title: "Airy Green Woods",
        picks: [
          { name: "Diptyque Philosykos (EDT)", notes: "fig leaf, coconut, woody", vibe: "sunlit, leafy, transparent", why: "Green fig with breezy woods; perfect for spring/summer.", link: "https://www.diptyqueparis.com/" },
          { name: "Le Labo Another 13", notes: "ambroxan, pear, musk", vibe: "sheer, modern, skin-scent", why: "For those who enjoy subtle radiance with a cool edge.", link: "https://www.lelabofragrances.com/" }
        ]
      },
      cozy_sweet_gourmand: {
        title: "Cozy Sweet / Gourmand",
        picks: [
          { name: "Maison Margiela Replica – By the Fireplace", notes: "smoke, chestnut, vanilla", vibe: "cozy, toasted, nostalgic", why: "A smoky-sweet hug for cold evenings.", link: "https://www.maisonmargiela-fragrances.us/" },
          { name: "Prada Candy", notes: "caramel, benzoin, musk", vibe: "playful, plush, sweet", why: "If you want a fun, dessert-like sweetness.", link: "https://www.prada.com/" }
        ]
      },
      spicy_resinous_night: {
        title: "Spicy & Resinous / Night",
        picks: [
          { name: "Tom Ford Oud Wood", notes: "cardamom, oud, amber", vibe: "smoky, polished, intimate", why: "A sophisticated evening signature.", link: "https://www.tomford.com/" },
          { name: "Byredo Black Saffron", notes: "saffron, leather, raspberry", vibe: "warm, distinct, luminous", why: "For a luminous spice with a sleek leather base.", link: "https://www.byredo.com/" }
        ]
      },
      floral_musk_soft: {
        title: "Soft Floral Musk",
        picks: [
          { name: "Chanel Chance Eau Tendre", notes: "grapefruit, jasmine, musk", vibe: "petal-soft, youthful, bright", why: "A dreamy everyday floral.", link: "https://www.chanel.com/" },
          { name: "Glossier You", notes: "ambrette, musk", vibe: "clean, minimalist, skin-like", why: "A barely-there scent that smells like you, but better.", link: "https://www.glossier.com/" }
        ]
      },
      aromatic_fresh_sport: {
        title: "Aromatic Fresh / Sporty",
        picks: [
          { name: "Dior Sauvage EDT", notes: "bergamot, pepper, ambroxan", vibe: "crisp, energetic, versatile", why: "An instantly fresh, go-anywhere profile.", link: "https://www.dior.com/" },
          { name: "Hermès H24", notes: "clary sage, rosewood, metallic moss", vibe: "green, modern, lucid", why: "A sleek green freshness with a futuristic twist.", link: "https://www.hermes.com/" }
        ]
      }
    };

    const labelMaps = {
      mood: { clean: "clean", warm: "warm", myst: "mysterious", sensual: "sensual" },
      air: { dawn: "morning air", noon: "afternoon light", rain: "after rain", night: "midnight calm" },
      i: { light: "light", balanced: "balanced", deep: "deep", energetic: "energetic" },
      city: { paris: "Paris", ny: "New York", tokyo: "Tokyo", maldives: "Maldives" },
      mat: { glass: "glass", metal: "metal", velvet: "velvet", stone: "stone" },
      echo: { memory: "memory", trail: "trail", person: "someone", air: "air" }
    };

    function humanize(p){
      const order=['i','air','mood','city','mat','echo'];
      return order.map(k=>labelMaps[k]&&labelMaps[k][p[k]]).filter(Boolean).join(' · ');
    }

    function parse(){
      const raw=location.hash.replace(/^#/,"");
      const [id='s0',query='']=raw.split('?');
      const params=Object.fromEntries(new URLSearchParams(query));
      return {id,params};
    }

    function mergeToHref(next, params, addKV){
      const q=new URLSearchParams(params);
      if(addKV){ const [k,v]=addKV.split('='); q.set(k,v); }
      const qs=q.toString();
      return `#${next}${qs?`?${qs}`:''}`;
    }

    function inferResultKey(p){
      if (p.mood==='clean'){ if (p.air==='dawn'||p.air==='rain') return 'fresh_citrus_day'; return 'aromatic_fresh_sport'; }
      if (p.mood==='warm'){ if (p.mat==='velvet'||p.echo==='person') return 'cozy_sweet_gourmand'; return 'floral_musk_soft'; }
      if (p.mood==='sensual') return 'spicy_resinous_night';
      if (p.mood==='myst'){ if (p.air==='rain'||p.city==='tokyo') return 'airy_green_woods'; return 'spicy_resinous_night'; }
      if (p.i==='light' && (p.air==='dawn'||p.air==='rain')) return 'airy_green_woods';
      return 'floral_musk_soft';
    }

    function render(){
      const {id,params}=parse();
      // Activate current scene (keep previous visible but dim)
      const scenes=$$('section.scene');
      scenes.forEach(s=>s.classList.remove('active'));
      const cur=document.getElementById(id)||document.getElementById('s0');
      cur.classList.add('active');

      // Update hyperlink hrefs with merged params
      $$('a[data-next]').forEach(a=>{
        a.setAttribute('href', mergeToHref(a.dataset.next, params, a.dataset.param));
      });

      // Compose the right panel
      $('#stamp').textContent = humanize(params) || '—';
      $('#summary').textContent = humanize(params) ? `You lean toward: ${humanize(params)}` : 'Walk the left panel. Your choices will compose here.';

      if(id==='result'){
        const key=inferResultKey(params);
        const data=RESULTS[key];
        $('#family').innerHTML = `<strong>Suggested Family — ${data.title}</strong>`;
        $('#picks').innerHTML = data.picks.map(p=>`
          <a class="card" href="${p.link}" target="_blank" rel="noreferrer">
            <div><strong>${p.name}</strong></div>
            <div class="muted">Notes: ${p.notes}</div>
            <div class="muted">Vibe: ${p.vibe}</div>
            <div>${p.why}</div>
            <div class="muted" style="text-decoration:underline;font-size:.8rem;margin-top:.25rem">Visit site ↗</div>
          </a>
        `).join('');
        $('#tip').style.display='block';
      }
    }

    // Link behavior stays native via href, we just react on hashchange
    window.addEventListener('hashchange', render);
    window.addEventListener('DOMContentLoaded', ()=>{
      if(!location.hash) location.hash='#s0';
      render();
    });

    // Restart
    $('#restart').addEventListener('click', e=>{
      e.preventDefault();
      location.hash='#s0';
    });
  </script>
</body>
</html>
