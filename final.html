<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Diurnal – Time-based Lighting</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
  *{box-sizing:border-box;margin:0;padding:0;}

  body{
    min-height:100vh;
    font-family:system-ui,-apple-system,BlinkMacSystemFont,"SF Pro Text",
      Segoe UI,Roboto,sans-serif;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:28px;
    padding:24px;
    background:#151515;
    color:#f8f7f2;
    transition:
      background 0.8s ease,
      color 0.8s ease,
      background-image 0.8s ease;
  }

  /* ▒▒ 현재 시간 크게 표시 ▒▒ */
  .clock{
    font-size:48px;
    font-weight:700;
    letter-spacing:0.03em;
    margin-top:8px;
    text-align:center;
  }
  .clock small{
    display:block;
    font-size:14px;
    opacity:0.7;
    margin-top:4px;
  }

  /* 메인 카드 (조명 + 텍스트) */
  .frame{
    max-width:1080px;
    width:100%;
    border-radius:18px;
    padding:28px 32px;
    background:rgba(0,0,0,0.35);
    box-shadow:0 18px 40px rgba(0,0,0,0.55);
    display:grid;
    grid-template-columns:minmax(180px,220px) minmax(0,1fr);
    gap:28px;
    transition:background 0.8s ease, box-shadow 0.8s ease;
  }

  /* 왼쪽 정보 */
  .left{
    display:flex;
    flex-direction:column;
    justify-content:space-between;
  }
  .wordmark{
    font-size:32px;
    font-weight:800;
    letter-spacing:0.12em;
    text-transform:uppercase;
    margin-bottom:24px;
  }
  .nav{
    list-style:none;
    font-size:13px;
    text-transform:lowercase;
    letter-spacing:0.1em;
  }
  .nav li+li{margin-top:4px;}

  .greeting{
    font-size:13px;
    margin-top:24px;
    line-height:1.4;
  }
  .greeting strong{display:block;margin-bottom:2px;}

  .state-tag{
    display:inline-flex;
    gap:6px;
    padding:3px 10px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,0.25);
    font-size:11px;
    margin-top:8px;
    background:rgba(0,0,0,0.18);
    backdrop-filter:blur(6px);
  }
  .dot{
    width:7px;height:7px;border-radius:50%;
    background:linear-gradient(135deg,#ffd766,#ff9d4b);
  }

  /* 오른쪽 — 조명 그리드 */
  .right{
    border-radius:14px;
    overflow:hidden;
    background:radial-gradient(circle at 50% 0,#444 0%,#111 60%,#050505 100%);
    transition:background 0.8s ease;
  }
  .grid{
    display:grid;
    grid-template-columns:repeat(8,1fr);
    aspect-ratio:8/5;
  }

  /* ▒▒ 전구 일러스트 셀 ▒▒ */
  .cell{
    position:relative;
    border:1px solid rgba(0,0,0,0.35);
    background:linear-gradient(to bottom,#2b2621 0%,#100f10 60%,#060607 100%);
    overflow:hidden;
    transition:
      background 0.8s ease,
      filter 0.8s ease;
  }

  /* 천장 선 */
  .cell::before{
    content:"";
    position:absolute;
    left:50%;
    top:8%;
    width:2px;
    height:26%;
    transform:translateX(-50%);
    background:linear-gradient(to bottom,rgba(0,0,0,0.7),rgba(0,0,0,0.3));
    pointer-events:none;
  }

  /* 전구 + 갓 + 빛 (하나의 pseudo에서 그라데이션으로 표현) */
  .cell::after{
    content:"";
    position:absolute;
    left:50%;
    top:32%;
    width:30px;
    height:30px;
    transform:translateX(-50%);
    border-radius:50% 50% 60% 60%;
    background:
      radial-gradient(circle at 50% 35%,
        rgba(255,255,255,0.95) 0%,
        rgba(255,244,210,0.95) 26%,
        rgba(255,210,140,0.7) 45%,
        rgba(0,0,0,0.0) 75%);
    opacity:0;                 /* 기본은 꺼진 상태 */
    box-shadow:none;
    transition:
      opacity 0.8s ease,
      box-shadow 0.8s ease,
      transform 0.8s ease,
      background 0.8s ease;
  }

  /* 바닥에 떨어지는 빛 */
  .cell .glow-floor{
    position:absolute;
    left:50%;
    bottom:-8%;
    width:80%;
    height:35%;
    transform:translateX(-50%);
    border-radius:50%;
    background:radial-gradient(ellipse at 50% 10%,
      rgba(255,220,150,0.65) 0%,
      rgba(0,0,0,0.0) 75%);
    opacity:0;
    filter:blur(6px);
    transition:opacity 0.8s ease,filter 0.8s ease;
    pointer-events:none;
  }

  /* ▒▒ 상태별 전체 톤 + 전구 밝기/애니메이션 ▒▒ */

  /* Morning – Mid Bright (6–11AM) */
  body.state-mid{
    background:
      linear-gradient(to bottom,#f5f3ef 0%,#e4e0d6 40%,#c2c0ba 100%);
    color:#262626;
  }
  body.state-mid .frame{
    background:rgba(255,255,255,0.9);
    box-shadow:0 18px 40px rgba(0,0,0,0.25);
  }
  body.state-mid .right{
    background:radial-gradient(circle at 50% 0,#f0ebe0 0%,#c9c1b0 55%,#80796e 100%);
  }
  body.state-mid .cell{
    filter:brightness(1.02);
    background:linear-gradient(to bottom,#413931 0%,#181716 60%,#0a0a0a 100%);
  }

  /* Midday – Lights Off (12–5PM) */
  body.state-off{
    background:
      linear-gradient(to bottom,#f8efde 0%,#f0dfc1 40%,#d4ba8b 100%);
    color:#262626;
  }
  body.state-off .frame{
    background:rgba(255,255,255,0.92);
    box-shadow:0 18px 40px rgba(148,112,64,0.35);
  }
  body.state-off .right{
    background:radial-gradient(circle at 50% 0,#f2e4cf 0%,#e1cda6 55%,#ba9868 100%);
  }
  body.state-off .cell{
    filter:brightness(1.0);
    background:linear-gradient(to bottom,#60503f 0%,#2d261f 60%,#141211 100%);
  }
  body.state-off .cell::after{
    opacity:0;                /* 완전 꺼짐 */
    box-shadow:none;
  }
  body.state-off .cell .glow-floor{
    opacity:0;
    filter:blur(12px);
  }

  /* Evening – Lights On (6–11PM) */
  body.state-on{
    background:
      radial-gradient(circle at 10% 0,#ffcf8c 0%,#2b1e18 45%,#0b0706 100%);
    color:#f8f3e8;
  }
  body.state-on .frame{
    background:rgba(12,6,4,0.85);
    box-shadow:0 22px 55px rgba(0,0,0,0.8);
  }
  body.state-on .right{
    background:radial-gradient(circle at 50% 0,#463024 0%,#150f0c 50%,#050404 100%);
  }
  body.state-on .cell{
    filter:brightness(1.05);
  }
  body.state-on .cell::after{
    opacity:1;
    transform:translateX(-50%) translateY(-1px);
    box-shadow:
      0 0 14px rgba(255,225,168,0.95),
      0 0 32px rgba(255,196,120,0.75);
    animation:lampPulse 4s ease-in-out infinite;
  }
  body.state-on .cell .glow-floor{
    opacity:1;
    filter:blur(10px);
  }

  /* Afterglow – (12–5AM) */
  body.state-after{
    background:
      radial-gradient(circle at 50% -10%,#ffcba8 0%,#141525 40%,#04030a 100%);
    color:#f3f2f8;
  }
  body.state-after .frame{
    background:rgba(4,4,10,0.88);
    box-shadow:0 22px 55px rgba(0,0,0,0.85);
  }
  body.state-after .right{
    background:radial-gradient(circle at 50% 0,#26243f 0%,#131228 45%,#05030c 100%);
  }
  body.state-after .cell{
    filter:brightness(0.9);
  }
  body.state-after .cell::after{
    opacity:0.6;
    transform:translateX(-50%) translateY(0);
    background:
      radial-gradient(circle at 50% 40%,
        rgba(255,225,210,0.9) 0%,
        rgba(255,192,160,0.65) 30%,
        rgba(0,0,0,0.0) 75%);
    box-shadow:
      0 0 10px rgba(255,190,150,0.7),
      0 0 26px rgba(182,145,220,0.45);
    animation:lampPulseSoft 6s ease-in-out infinite;
  }
  body.state-after .cell .glow-floor{
    opacity:0.65;
    filter:blur(12px);
  }

  /* 전구 숨쉬기 애니메이션 */
  @keyframes lampPulse{
    0%   { transform:translateX(-50%) translateY(-1px) scale(1);   box-shadow:0 0 10px rgba(255,225,168,0.8),0 0 26px rgba(255,196,120,0.6);}
    50%  { transform:translateX(-50%) translateY(-2px) scale(1.06);box-shadow:0 0 18px rgba(255,230,180,1),0 0 40px rgba(255,210,140,0.9);}
    100% { transform:translateX(-50%) translateY(-1px) scale(1);   box-shadow:0 0 10px rgba(255,225,168,0.8),0 0 26px rgba(255,196,120,0.6);}
  }
  @keyframes lampPulseSoft{
    0%   { opacity:0.55; box-shadow:0 0 8px rgba(255,190,150,0.6),0 0 20px rgba(182,145,220,0.3);}
    50%  { opacity:0.8;  box-shadow:0 0 14px rgba(255,210,180,0.9),0 0 30px rgba(182,145,220,0.5);}
    100% { opacity:0.55; box-shadow:0 0 8px rgba(255,190,150,0.6),0 0 20px rgba(182,145,220,0.3);}
  }

  /* 슬라이더 컨트롤 */
  .controls{
    text-align:center;
    font-size:14px;
  }
  input[type="range"]{
    width:260px;
    margin-top:6px;
  }
  .controls button{
    margin-top:6px;
    padding:4px 10px;
    font-size:12px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,0.4);
    background:transparent;
    color:inherit;
    cursor:pointer;
  }
  .controls button:hover{
    background:rgba(255,255,255,0.1);
  }

  @media(max-width:800px){
    .frame{grid-template-columns:1fr;}
  }
</style>
</head>
<body>

  <!-- 현재 시간 (크게) -->
  <div class="clock">
    <span id="currentClock">--:--:--</span>
    <small>Your local time</small>
  </div>

  <!-- 메인 프레임 -->
  <main class="frame">
    <section class="left">
      <div>
        <div class="wordmark">Diurnal</div>
        <ul class="nav">
          <li>shop</li>
          <li>collection</li>
          <li>showroom</li>
        </ul>
      </div>

      <div class="greeting">
        <strong id="greetText">Good evening</strong>
        <span id="sceneTime">18:00</span><br>
        <span id="stateText">Lights On · 100% brightness</span>
        <div class="state-tag">
          <span class="dot"></span>
          <span id="stateName">Evening 6PM–11PM</span>
        </div>
      </div>
    </section>

    <section class="right">
      <div class="grid" id="gridContainer"></div>
    </section>
  </main>

  <div class="controls">
    <div>
      <label for="timeSlider">Preview time</label><br>
      <input type="range" id="timeSlider" min="0" max="23">
      <div id="sliderLabel">--:--</div>
      <button id="backNow">Back to current time</button>
    </div>
  </div>

<script>
  // 조명 셀 40개 생성 + 바닥 glow 요소 추가
  const grid = document.getElementById('gridContainer');
  for(let i=0;i<40;i++){
    const cell = document.createElement('div');
    cell.className = 'cell';
    const floorGlow = document.createElement('div');
    floorGlow.className = 'glow-floor';
    cell.appendChild(floorGlow);
    grid.appendChild(cell);
  }

  const clockEl    = document.getElementById('currentClock');
  const greetText  = document.getElementById('greetText');
  const sceneTime  = document.getElementById('sceneTime');
  const stateText  = document.getElementById('stateText');
  const stateName  = document.getElementById('stateName');
  const slider     = document.getElementById('timeSlider');
  const sliderLabel= document.getElementById('sliderLabel');
  const backNowBtn = document.getElementById('backNow');

  let live = true;

  function pad(n){ return n < 10 ? "0"+n : ""+n; }

  // 상단 큰 시계 (시:분:초)
  function updateClock(){
    const now = new Date();
    const h = pad(now.getHours());
    const m = pad(now.getMinutes());
    const s = pad(now.getSeconds());
    clockEl.textContent = `${h}:${m}:${s}`;
  }
  setInterval(updateClock, 1000);
  updateClock();

  function applyScene(h, m){
    document.body.classList.remove('state-mid','state-off','state-on','state-after');

    let cls, greet, label, name;

    if (h >= 6 && h < 11){
      cls   = 'state-mid';
      greet = 'Good morning';
      label = 'Mid Bright · 50% brightness';
      name  = 'Mid Bright 6AM–11AM';
    } else if (h >= 12 && h < 17){
      cls   = 'state-off';
      greet = 'Have a nice day';
      label = 'Lights Off · 0% brightness';
      name  = 'Lights Off 12PM–5PM';
    } else if (h >= 18){
      cls   = 'state-on';
      greet = 'Good evening';
      label = 'Lights On · 100% brightness';
      name  = 'Evening 6PM–11PM';
    } else {
      cls   = 'state-after';
      greet = 'Good night';
      label = 'Afterglow · 20% brightness';
      name  = 'Afterglow 12AM–5AM';
    }

    document.body.classList.add(cls);
    greetText.textContent = greet;
    stateText.textContent = label;
    stateName.textContent = name;
    sceneTime.textContent = pad(h)+":"+pad(m);
  }

  function updateFromNow(){
    if (!live) return;
    const now = new Date();
    const h = now.getHours();
    const m = now.getMinutes();
    applyScene(h,m);
    slider.value = h;
    sliderLabel.textContent = pad(h)+":00";
  }

  // 초기 세팅
  updateFromNow();
  // 30초마다 씬 업데이트 (너무 자주 바뀌지 않게)
  setInterval(updateFromNow, 30000);

  // 슬라이더로 시간 프리뷰
  slider.addEventListener('input', e=>{
    const h = parseInt(e.target.value,10);
    live = false;
    sliderLabel.textContent = pad(h)+":00";
    applyScene(h,0);
  });

  // 다시 현재 시간으로
  backNowBtn.addEventListener('click', ()=>{
    live = true;
    updateFromNow();
  });
</script>
</body>
</html>
