<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Diurnal – Time-based Lighting</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
  *{box-sizing:border-box;margin:0;padding:0;}

  body{
    min-height:100vh;
    font-family:system-ui,-apple-system,BlinkMacSystemFont,"SF Pro Text",
      Segoe UI,Roboto,sans-serif;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:flex-start;
    gap:28px;
    background:#151515;
    color:#f8f7f2;
    padding:24px;
    transition:background 0.6s ease,color 0.6s ease;
  }

  /* 현재 시간(clock) */
  .clock{
    font-size:48px;
    font-weight:700;
    letter-spacing:0.02em;
    margin-top:12px;
  }
  .clock small{
    font-size:18px;
    opacity:0.7;
  }

  /* 메인 카드 */
  .frame{
    max-width:1080px;
    width:100%;
    border-radius:18px;
    padding:28px 32px;
    background:rgba(0,0,0,0.45);
    box-shadow:0 18px 40px rgba(0,0,0,0.6);
    display:grid;
    grid-template-columns:minmax(180px,220px) minmax(0,1fr);
    gap:28px;
  }

  .left{
    display:flex;
    flex-direction:column;
    justify-content:space-between;
  }

  .wordmark{
    font-size:32px;
    font-weight:800;
    letter-spacing:0.12em;
    text-transform:uppercase;
    margin-bottom:24px;
  }

  .nav{
    list-style:none;
    font-size:13px;
    text-transform:lowercase;
    letter-spacing:0.1em;
  }
  .nav li+li{margin-top:4px;}

  .greeting{
    font-size:13px;
    margin-top:24px;
    line-height:1.4;
  }
  .greeting strong{display:block;margin-bottom:2px;}

  .state-tag{
    display:inline-flex;
    align-items:center;
    gap:6px;
    padding:3px 10px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,0.25);
    font-size:11px;
    margin-top:8px;
  }
  .dot{
    width:7px;height:7px;border-radius:50%;
    background:linear-gradient(135deg,#ffd766,#ff9d4b);
  }

  .right{
    border-radius:14px;
    overflow:hidden;
    background:#111;
  }

  /* 조명 그리드 – 일러스트 버전 */
  .grid{
    display:grid;
    grid-template-columns:repeat(8,1fr);
    aspect-ratio:8/5;
  }
  .cell{
    position:relative;
    border:1px solid rgba(0,0,0,0.08);
    background:#b8b0a2;
    transition:background 0.5s ease, filter 0.5s ease;
    filter:brightness(0.9);
  }
  .cell::before{
    content:"";
    position:absolute;
    left:50%; top:12%;
    width:2px;
    height:20%;
    transform:translateX(-50%);
    background:rgba(0,0,0,0.45);
  }
  .cell::after{
    content:"";
    position:absolute;
    left:50%; top:30%;
    width:18px;height:12px;
    transform:translateX(-50%);
    border-radius:8px 8px 3px 3px;
    background:#5b4a3b;
    transition:background 0.5s ease, box-shadow 0.5s ease;
  }

  /* 상태별 전체 톤 -------------------------------------------------- */

  body.state-mid{
    background:#f4f3ef;color:#222;
  }
  body.state-mid .frame{
    background:#ffffff;
  }

  body.state-off{
    background:#ded1b9;color:#222;
  }
  body.state-off .frame{
    background:#f3e5c8;
  }

  body.state-on{
    background:#3b3129;color:#f8f7f2;
  }
  body.state-on .frame{
    background:rgba(0,0,0,0.5);
  }
  body.state-on .cell::after{
    background:#ffdf8a;box-shadow:0 0 10px rgba(255,223,138,0.9);
  }

  body.state-after{
    background:#050506;color:#f2f2f2;
  }
  body.state-after .frame{
    background:rgba(0,0,0,0.7);
  }
  body.state-after .cell::after{
    background:#ffb493;box-shadow:0 0 8px rgba(255,180,147,0.7);
  }

  /* 컨트롤 영역 */
  .controls{
    max-width:1080px;
    width:100%;
    text-align:center;
    font-size:14px;
    margin-bottom:8px;
  }

  input[type="range"]{
    width:260px;
    margin-top:6px;
  }

</style>
</head>
<body>

  <!-- 현재 시간 크게 표시 -->
  <div class="clock">
    <span id="currentClock">--:--:--</span>
    <small>(local time)</small>
  </div>

  <main class="frame">
    <section class="left">
      <div>
        <div class="wordmark">Diurnal</div>
        <ul class="nav">
          <li>shop</li>
          <li>collection</li>
          <li>showroom</li>
        </ul>
      </div>
      <div class="greeting">
        <strong id="greetText">Good evening</strong>
        <span id="sceneTime">18:00</span><br>
        <span id="stateText">Lights On · 100% brightness</span>
        <div class="state-tag">
          <span class="dot"></span>
          <span id="stateName">Evening 6PM–11PM</span>
        </div>
      </div>
    </section>

    <section class="right">
      <div class="grid">
        <!-- 40 cells -->
        <!-- row 1 -->
        ${"<div class='cell'></div>".repeat(40)}
      </div>
    </section>
  </main>

  <section class="controls">
    <div>
      <label>Preview time: </label>
      <input type="range" id="timeSlider" min="0" max="23" step="1">
      <div id="sliderLabel">--:--</div>
      <button id="backNow">Back to current time</button>
    </div>
  </section>

<script>
  const clockEl = document.getElementById('currentClock');
  const greetText = document.getElementById('greetText');
  const sceneTime = document.getElementById('sceneTime');
  const stateText = document.getElementById('stateText');
  const stateName = document.getElementById('stateName');
  const timeSlider = document.getElementById('timeSlider');
  const sliderLabel = document.getElementById('sliderLabel');
  const backNow = document.getElementById('backNow');

  let liveMode = true;

  function pad(n){return n<10?"0"+n:n;}

  /* 현재 시간 업데이트 (시:분:초) */
  function updateClock(){
    const now = new Date();
    const h = pad(now.getHours());
    const m = pad(now.getMinutes());
    const s = pad(now.getSeconds());
    clockEl.textContent = `${h}:${m}:${s}`;
  }
  setInterval(updateClock, 1000);
  updateClock();

  /* 상태 적용 */
  function applyScene(h, m){
    sceneTime.textContent = pad(h)+":"+pad(m);

    document.body.classList.remove('state-mid','state-off','state-on','state-after');

    let cls, greet, label, name;

    if(h>=6 && h<11){
      cls='state-mid';
      greet='Good morning';
      label='Mid Bright · 50% brightness';
      name='Mid Bright 6AM–11AM';
    }else if(h>=12 && h<17){
      cls='state-off';
      greet='Have a nice day';
      label='Lights Off · 0% brightness';
      name='Lights Off 12PM–5PM';
    }else if(h>=18){
      cls='state-on';
      greet='Good evening';
      label='Lights On · 100% brightness';
      name='Evening 6PM–11PM';
    }else{
      cls='state-after';
      greet='Good night';
      label='Afterglow · 20% brightness';
      name='Afterglow 12AM–5AM';
    }

    document.body.classList.add(cls);
    greetText.textContent = greet;
    stateText.textContent = label;
    stateName.textContent = name;
  }

  /* 현재 시간 기반 업데이트 */
  function updateFromCurrent(){
    if(!liveMode) return;
    const now = new Date();
    const h = now.getHours();
    const m = now.getMinutes();
    applyScene(h,m);
    timeSlider.value = h;
    sliderLabel.textContent = pad(h)+":00";
  }

  updateFromCurrent();
  setInterval(updateFromCurrent, 30000);

  /* 슬라이더 */
  timeSlider.addEventListener('input', e=>{
    const h = parseInt(e.target.value,10);
    liveMode = false;
    sliderLabel.textContent = pad(h)+":00";
    applyScene(h,0);
  });

  /* 현재 시간으로 복귀 */
  backNow.addEventListener('click', ()=>{
    liveMode = true;
    updateFromCurrent();
  });

</script>
</body>
</html>
