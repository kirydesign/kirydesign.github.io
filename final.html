<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Diurnal – Time-based Lighting</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
  *{box-sizing:border-box;margin:0;padding:0;}

  body{
    min-height:100vh;
    font-family:system-ui,-apple-system,BlinkMacSystemFont,"SF Pro Text",
      Segoe UI,Roboto,sans-serif;
    display:flex;
    flex-direction:column;
    align-items:center;
    gap:28px;
    padding:24px;
    background:#151515;
    color:#f8f7f2;
    transition:background 0.6s ease,color 0.6s ease;
  }

  /* ▒▒ 현재 시간 크게 표시 ▒▒ */
  .clock{
    font-size:48px;
    font-weight:700;
    letter-spacing:0.03em;
    margin-top:8px;
    text-align:center;
  }
  .clock small{
    display:block;
    font-size:14px;
    opacity:0.7;
    margin-top:4px;
  }

  /* 메인 카드 (조명 + 텍스트) */
  .frame{
    max-width:1080px;
    width:100%;
    border-radius:18px;
    padding:28px 32px;
    background:rgba(0,0,0,0.4);
    box-shadow:0 18px 40px rgba(0,0,0,0.6);
    display:grid;
    grid-template-columns:minmax(180px,220px) minmax(0,1fr);
    gap:28px;
  }

  /* 왼쪽 정보 */
  .left{
    display:flex;
    flex-direction:column;
    justify-content:space-between;
  }
  .wordmark{
    font-size:32px;
    font-weight:800;
    letter-spacing:0.12em;
    text-transform:uppercase;
    margin-bottom:24px;
  }
  .nav{
    list-style:none;
    font-size:13px;
    text-transform:lowercase;
    letter-spacing:0.1em;
  }
  .nav li+li{margin-top:4px;}

  .greeting{
    font-size:13px;
    margin-top:24px;
    line-height:1.4;
  }
  .state-tag{
    display:inline-flex;
    gap:6px;
    padding:3px 10px;
    border-radius:999px;
    border:1px solid rgba(255,255,255,0.25);
    font-size:11px;
    margin-top:8px;
  }
  .dot{
    width:7px;height:7px;border-radius:50%;
    background:linear-gradient(135deg,#ffd766,#ff9d4b);
  }

  /* 오른쪽 — 조명 그리드 (디자인 그대로 유지) */
  .right{
    border-radius:14px;
    overflow:hidden;
    background:#111;
  }
  .grid{
    display:grid;
    grid-template-columns:repeat(8,1fr);
    aspect-ratio:8/5;
  }
  .cell{
    position:relative;
    border:1px solid rgba(0,0,0,0.08);
    background:#b8b0a2;
    transition:filter 0.5s ease, background 0.5s ease;
    filter:brightness(1);
  }
  .cell::before{
    content:"";
    position:absolute;
    left:50%; top:12%;
    width:2px;height:20%;
    transform:translateX(-50%);
    background:rgba(0,0,0,0.45);
  }
  .cell::after{
    content:"";
    position:absolute;
    left:50%; top:30%;
    width:18px;height:12px;
    transform:translateX(-50%);
    border-radius:8px 8px 3px 3px;
    background:#5b4a3b;
    transition:background 0.5s ease, box-shadow 0.5s ease;
  }

  /* 밤 / 새벽 / 낮 / 저녁 상태 */
  body.state-mid{ background:#f4f3ef; color:#222; }
  body.state-off{ background:#ded1b9; color:#222; }
  body.state-on { background:#3b3129; color:#f8f7f2; }
  body.state-after{ background:#050506; color:#f2f2f2; }

  /* 전구 밝기 */
  body.state-on .cell::after{
    background:#ffdf8a;
    box-shadow:0 0 10px rgba(255,223,138,0.9);
  }
  body.state-after .cell::after{
    background:#ffb493;
    box-shadow:0 0 8px rgba(255,180,147,0.7);
  }

  /* 슬라이더 컨트롤 */
  .controls{
    text-align:center;
    font-size:14px;
  }

  input[type="range"]{
    width:260px;
    margin-top:6px;
  }

  @media(max-width:800px){
    .frame{grid-template-columns:1fr;}
  }
</style>
</head>
<body>

  <!-- 현재 시간 (크게) -->
  <div class="clock">
    <span id="currentClock">--:--:--</span>
    <small>Your local time</small>
  </div>

  <!-- 전체 레이아웃 -->
  <main class="frame">
    <section class="left">
      <div>
        <div class="wordmark">Diurnal</div>
        <ul class="nav">
          <li>shop</li>
          <li>collection</li>
          <li>showroom</li>
        </ul>
      </div>

      <div class="greeting">
        <strong id="greetText">Good evening</strong>
        <span id="sceneTime">18:00</span><br>
        <span id="stateText">Lights On · 100% brightness</span>
        <div class="state-tag">
          <span class="dot"></span>
          <span id="stateName">Evening 6PM–11PM</span>
        </div>
      </div>
    </section>

    <section class="right">
      <div class="grid" id="gridContainer">
        <!-- 40 cells 조명 디자인 그대로 유지 -->
        <!-- 8 columns × 5 rows -->
      </div>
    </section>
  </main>

  <div class="controls">
    <label>Preview time:</label><br>
    <input type="range" id="timeSlider" min="0" max="23">
    <div id="sliderLabel">--:--</div><br>
    <button id="backNow">Back to current time</button>
  </div>

<script>
  /* ———————————————— 조명 40개 생성 ———————————————— */
  const grid = document.getElementById('gridContainer');
  for(let i=0;i<40;i++){
    const c = document.createElement('div');
    c.className = 'cell';
    grid.appendChild(c);
  }

  function pad(n){return n<10?"0"+n:n;}

  const clockEl = document.getElementById('currentClock');
  const greetText = document.getElementById('greetText');
  const sceneTime = document.getElementById('sceneTime');
  const stateText = document.getElementById('stateText');
  const stateName = document.getElementById('stateName');
  const timeSlider = document.getElementById('timeSlider');
  const sliderLabel = document.getElementById('sliderLabel');
  const backNow = document.getElementById('backNow');

  let live = true;

  function updateClock(){
    const now = new Date();
    clockEl.textContent = 
      pad(now.getHours()) + ":" + pad(now.getMinutes()) + ":" + pad(now.getSeconds());
  }
  setInterval(updateClock,1000);
  updateClock();

  function applyScene(h,m){
    document.body.classList.remove('state-mid','state-off','state-on','state-after');

    let cls,greet,label,name;

    if(h>=6 && h<11){
      cls='state-mid';
      greet='Good morning';
      label='Mid Bright · 50% brightness';
      name='Mid Bright 6AM–11AM';
    }else if(h>=12 && h<17){
      cls='state-off';
      greet='Have a nice day';
      label='Lights Off · 0% brightness';
      name='Lights Off 12PM–5PM';
    }else if(h>=18){
      cls='state-on';
      greet='Good evening';
      label='Lights On · 100% brightness';
      name='Evening 6PM–11PM';
    }else{
      cls='state-after';
      greet='Good night';
      label='Afterglow · 20% brightness';
      name='Afterglow 12AM–5AM';
    }

    document.body.classList.add(cls);
    greetText.textContent = greet;
    stateText.textContent = label;
    stateName.textContent = name;
    sceneTime.textContent = pad(h)+":"+pad(m);
  }

  function updateFromNow(){
    if(!live) return;
    const now = new Date();
    const h = now.getHours();
    const m = now.getMinutes();
    applyScene(h,m);
    timeSlider.value = h;
    sliderLabel.textContent = pad(h)+":00";
  }

  setInterval(updateFromNow,30000);
  updateFromNow();

  /* 슬라이더 */
  timeSlider.addEventListener('input', e=>{
    const h = parseInt(e.target.value,10);
    live = false;
    sliderLabel.textContent = pad(h)+":00";
    applyScene(h,0);
  });

  backNow.addEventListener('click',()=>{
    live = true;
    updateFromNow();
  });
</script>
</body>
</html>
