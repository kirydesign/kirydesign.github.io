<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<title>시간의 빛 · Light of the Hour</title>
<meta name="viewport" content="width=device-width,initial-scale=1">

<style>
  *{box-sizing:border-box;margin:0;padding:0;}

  body{
    min-height:100vh;
    background:#020307;
    color:#f5f4f2;
    font-family: system-ui, -apple-system, BlinkMacSystemFont,
      "SF Pro Text", "Noto Sans KR", sans-serif;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:24px;
    overflow:hidden;
  }

  .layer{
    position:relative;
    width:100%;
    max-width:960px;
    aspect-ratio:16/9;
    border-radius:24px;
    background:
      radial-gradient(circle at 50% -10%, rgba(255,255,255,0.02) 0%, transparent 50%),
      radial-gradient(circle at 50% 120%, rgba(0,0,0,0.9) 0%, #000 65%);
    box-shadow:0 40px 80px rgba(0,0,0,0.9);
    overflow:hidden;
  }

  /* 중앙의 빛 원 */
  .halo{
    position:absolute;
    left:50%;
    top:50%;
    width:min(55vmin,460px);
    height:min(55vmin,460px);
    transform:translate(-50%,-50%);
    border-radius:50%;
    background:
      radial-gradient(circle at 50% 40%,
        rgba(255,255,255,0.85) 0%,
        rgba(255,240,210,0.75) 16%,
        rgba(255,210,140,0.45) 32%,
        transparent 70%);
    opacity:0.0;
    filter:blur(0px);
    box-shadow:none;
    transition:
      background 1.4s ease,
      opacity 1.4s ease,
      filter 1.4s ease,
      box-shadow 1.4s ease;
    animation:breathe 14s ease-in-out infinite;
  }

  @keyframes breathe {
    0%   { transform:translate(-50%,-50%) scale(1.00); }
    50%  { transform:translate(-50%,-50%) scale(1.04); }
    100% { transform:translate(-50%,-50%) scale(1.00); }
  }

  /* 텍스트 레이어 */
  .content{
    position:absolute;
    inset:0;
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:flex-end;
    padding:32px 24px;
    pointer-events:none;
    background:linear-gradient(to top, rgba(0,0,0,0.75), transparent 40%);
  }

  .time{
    font-size:clamp(28px,4vw,40px);
    letter-spacing:0.14em;
    text-transform:uppercase;
    margin-bottom:6px;
    font-variant-numeric:tabular-nums;
  }

  .label{
    font-size:12px;
    letter-spacing:0.2em;
    text-transform:uppercase;
    opacity:0.75;
    margin-bottom:18px;
  }

  .poem{
    font-size:14px;
    line-height:1.6;
    text-align:center;
    max-width:420px;
    opacity:0.9;
  }

  .poem small{
    display:block;
    margin-top:6px;
    font-size:12px;
    opacity:0.6;
  }

  /* 상태별 빛의 표정 (body에 클래스 붙어서 바뀜) */

  /* 깊은 밤 · 0–4시 */
  body.state-deepnight .halo{
    opacity:0.28;
    background:
      radial-gradient(circle at 48% 42%,
        rgba(180,205,255,0.75) 0%,
        rgba(110,145,210,0.45) 22%,
        rgba(40,70,120,0.25) 40%,
        transparent 70%);
    filter:blur(6px);
    box-shadow:
      0 0 40px rgba(90,140,220,0.45),
      0 0 120px rgba(10,20,60,0.8);
  }

  /* 새벽 · 5–8시 */
  body.state-dawn .halo{
    opacity:0.36;
    background:
      radial-gradient(circle at 50% 38%,
        rgba(255,245,230,0.9) 0%,
        rgba(255,225,190,0.75) 20%,
        rgba(255,190,140,0.45) 40%,
        transparent 70%);
    filter:blur(5px);
    box-shadow:
      0 0 40px rgba(255,210,160,0.5),
      0 0 120px rgba(80,60,40,0.8);
  }

  /* 낮 · 9–15시 (빛이 가장 약하게 보임) */
  body.state-day .halo{
    opacity:0.12;
    background:
      radial-gradient(circle at 52% 38%,
        rgba(255,255,240,0.85) 0%,
        rgba(240,240,220,0.6) 18%,
        rgba(220,220,200,0.3) 34%,
        transparent 65%);
    filter:blur(7px);
    box-shadow:
      0 0 26px rgba(255,255,230,0.32),
      0 0 80px rgba(0,0,0,0.7);
  }

  /* 저녁 · 16–19시 (골든아워) */
  body.state-sunset .halo{
    opacity:0.52;
    background:
      radial-gradient(circle at 50% 40%,
        rgba(255,245,230,0.9) 0%,
        rgba(255,220,180,0.8) 20%,
        rgba(255,170,110,0.55) 40%,
        transparent 72%);
    filter:blur(5px);
    box-shadow:
      0 0 50px rgba(255,210,150,0.9),
      0 0 140px rgba(120,70,40,0.95);
  }

  /* 밤 · 20–23시 */
  body.state-night .halo{
    opacity:0.46;
    background:
      radial-gradient(circle at 50% 40%,
        rgba(255,240,220,0.95) 0%,
        rgba(255,215,170,0.8) 22%,
        rgba(255,180,120,0.55) 42%,
        transparent 74%);
    filter:blur(4px);
    box-shadow:
      0 0 60px rgba(255,215,160,0.95),
      0 0 160px rgba(255,160,100,0.8);
  }

  /* 작은 화면 대응 */
  @media (max-width:640px){
    .layer{ border-radius:18px; }
    .content{
      padding:24px 18px;
    }
  }
</style>
</head>
<body>
  <div class="layer">
    <div class="halo" aria-hidden="true"></div>

    <div class="content">
      <div id="time" class="time">--:--:--</div>
      <div id="label" class="label">—</div>
      <div id="poem" class="poem">
        지금 이 시간의 빛을 불러오는 중입니다.
        <small>Fetching the light of this hour.</small>
      </div>
    </div>
  </div>

<script>
  const timeEl  = document.getElementById('time');
  const labelEl = document.getElementById('label');
  const poemEl  = document.getElementById('poem');

  const STATES = ['deepnight','dawn','day','sunset','night'];

  function pad(n){ return n < 10 ? '0' + n : '' + n; }

  function getState(hour){
    if(hour >= 0 && hour < 5)   return 'deepnight'; // 0–4
    if(hour >= 5 && hour < 9)   return 'dawn';      // 5–8
    if(hour >= 9 && hour < 16)  return 'day';       // 9–15
    if(hour >= 16 && hour < 20) return 'sunset';    // 16–19
    return 'night';                                  // 20–23, 그리고 8–9 사이 등 애매한 시간은 의도적으로 밤/낮에 가까운 쪽으로 흡수
  }

  function getTextFor(state, hour, minute){
    const hhmm = `${pad(hour)}:${pad(minute)}`;

    if(state === 'deepnight'){
      return {
        label: '깊은 밤 · Deep Night',
        poem: `${hhmm}\n빛은 가장 적은 말로 머물러 있습니다.\n` +
              `<small>Light stays with the fewest words.</small>`
      };
    }
    if(state === 'dawn'){
      return {
        label: '새벽 · Dawn',
        poem: `${hhmm}\n어둠과 아침 사이, 빛이 천천히 숨을 들이킵니다.\n` +
              `<small>Between night and morning, light takes a slow breath in.</small>`
      };
    }
    if(state === 'day'){
      return {
        label: '낮 · Daylight',
        poem: `${hhmm}\n너무 밝아서, 조명은 잠시 잊혀집니다.\n` +
              `<small>So bright that the lamp can afford to be forgotten.</small>`
      };
    }
    if(state === 'sunset'){
      return {
        label: '저녁 · Golden Hour',
        poem: `${hhmm}\n해가 물러나자, 빛은 제 목소리를 찾습니다.\n` +
              `<small>As the sun retreats, the lamp finds its own voice.</small>`
      };
    }
    // night
    return {
      label: '밤 · Night',
      poem: `${hhmm}\n어둠이 짙어질수록, 빛은 더 또렷해집니다.\n` +
            `<small>The darker it grows, the clearer the light becomes.</small>`
    };
  }

  function updateScene(){
    const now   = new Date();
    const hour  = now.getHours();
    const min   = now.getMinutes();
    const sec   = now.getSeconds();

    // 시간 표시
    timeEl.textContent = `${pad(hour)}:${pad(min)}:${pad(sec)}`;

    // 상태 결정
    const state = getState(hour);

    // body 클래스 업데이트
    STATES.forEach(s => document.body.classList.remove(`state-${s}`));
    document.body.classList.add(`state-${state}`);

    // 텍스트 업데이트
    const t = getTextFor(state, hour, min);
    labelEl.textContent = t.label;
    poemEl.innerHTML    = t.poem;
  }

  // 초기 실행 + 1초마다 시간/상태 업데이트
  updateScene();
  setInterval(updateScene, 1000);
</script>
</body>
</html>
